<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Amazonia Concrete</title>
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <div id="notificationContainer" class="notification-container" aria-live="polite"></div>
    <div class="admin-header">
        <h1>üõ†Ô∏è Panel de Administraci√≥n - Amazonia Concrete</h1>
        <p>Gestiona tu cat√°logo de productos de forma f√°cil y r√°pida</p>
    </div>

    <div class="admin-container">
        <div class="info-box">
            <strong>üí° Instrucciones:</strong> Configura tu informaci√≥n de contacto, a√±ade o edita productos, y luego genera tu cat√°logo actualizado con el bot√≥n "Generar Cat√°logo".
        </div>

        <div class="admin-grid">
            <!-- Sidebar -->
            <div class="sidebar">
                <h3 class="section-title">Men√∫</h3>
                <button class="btn btn-primary btn-block" data-section="config" aria-controls="configSection" aria-expanded="true">‚öôÔ∏è Configuraci√≥n</button>
                <button class="btn btn-primary btn-block" data-section="about" aria-controls="aboutConfigSection" aria-expanded="false">üë• Nosotros</button>
                <button class="btn btn-primary btn-block" data-section="news" aria-controls="newsSection" aria-expanded="false">üì∞ Inicio y novedades</button>
                <button class="btn btn-primary btn-block" data-section="policies" aria-controls="policiesSection" aria-expanded="false">üìÑ Pol√≠ticas corporativas</button>
                <button class="btn btn-primary btn-block" data-section="products" aria-controls="productsSection" aria-expanded="false">üì¶ Productos</button>
                <button class="btn btn-success btn-block mt-md" data-action="generate-catalog">üì• Generar Cat√°logo</button>
                <button class="btn btn-secondary btn-block" id="updatePreviewButton">üîÑ Actualizar vista previa</button>

                <div id="navigationStatus" class="sr-only" role="status" aria-live="polite" aria-atomic="true"></div>

                <div class="sidebar-section">
                    <h4 class="sidebar-section-title">Acciones R√°pidas</h4>
                    <button class="btn btn-secondary btn-block" id="saveDataButton">üíæ Guardar Cambios</button>
                    <button class="btn btn-secondary btn-block" id="loadDataButton">üìÇ Cargar Datos</button>
                    <button class="btn btn-secondary btn-block" id="exportDataButton">üì§ Exportar Datos</button>
                    <button class="btn btn-secondary btn-block" id="importDataButton">üì• Importar Datos</button>
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <!-- Configuration Section -->
                <div id="configSection" class="section" role="region" aria-labelledby="configSectionTitle" aria-hidden="false">
                    <h2 class="section-title" id="configSectionTitle">‚öôÔ∏è Configuraci√≥n General</h2>
                    
                    <div class="config-section">
                        <h3 style="margin-bottom: 1rem">Informaci√≥n de Contacto</h3>
                        <div class="two-columns">
                            <div class="form-group">
                                <label>N√∫mero de WhatsApp (con c√≥digo de pa√≠s):</label>
                                <input type="text" id="whatsapp" placeholder="573001234567" value="573000000000">
                            </div>
                            <div class="form-group">
                                <label>Email de contacto:</label>
                                <input type="email" id="email" placeholder="info@amazoniaconcrete.com" value="info@amazoniaconcrete.com">
                            </div>
                            <div class="form-group">
                                <label>Tel√©fono de contacto:</label>
                                <input type="text" id="phone" placeholder="+57 300 123 4567" value="+57 300 000 0000">
                            </div>
                            <div class="form-group">
                                <label>Direcci√≥n (opcional):</label>
                                <input type="text" id="address" placeholder="Calle 123 #45-67, Ciudad">
                            </div>
                        </div>
                    </div>

                    <div class="config-section">
                        <h3 style="margin-bottom: 1rem">Redes Sociales</h3>
                        <div class="two-columns">
                            <div class="form-group">
                                <label>Instagram:</label>
                                <input type="url" id="instagram" placeholder="https://www.instagram.com/amazoniaconcrete">
                                <small class="input-helper" id="instagramPreview" aria-live="polite"></small>
                            </div>
                            <div class="form-group">
                                <label>Facebook:</label>
                                <input type="url" id="facebook" placeholder="https://www.facebook.com/amazoniaconcrete">
                                <small class="input-helper" id="facebookPreview" aria-live="polite"></small>
                            </div>
                            <div class="form-group">
                                <label>TikTok:</label>
                                <input type="url" id="tiktok" placeholder="https://www.tiktok.com/@amazoniaconcrete">
                                <small class="input-helper" id="tiktokPreview" aria-live="polite"></small>
                            </div>
                        </div>
                        <small style="display: block; margin-top: 0.5rem; color: var(--text-muted);">Puedes escribir tu usuario (ej. <code>@marca</code>) o pegar la URL completa; te mostraremos la versi√≥n final que se publicar√°.</small>
                    </div>

                    <div class="config-section">
                        <h3 style="margin-bottom: 1rem">URLs can√≥nicas</h3>
                        <div class="two-columns">
                            <div class="form-group">
                                <label>URL can√≥nica del cat√°logo:</label>
                                <input type="url" id="canonicalUrl" placeholder="https://www.tucatalogo.com/">
                            </div>
                            <div class="form-group">
                                <label>URL can√≥nica de la p√°gina "Sobre nosotros":</label>
                                <input type="url" id="aboutCanonicalUrl" placeholder="https://www.tucatalogo.com/sobre-nosotros">
                            </div>
                        </div>
                        <small style="display: block; margin-top: 0.5rem; color: var(--text-muted);">Usa URLs completas (http:// o https://) para mejorar el SEO de tus p√°ginas.</small>
                    </div>

                    <div class="config-section">
                        <h3 style="margin-bottom: 1rem">Informaci√≥n de la Empresa</h3>
                        <div class="form-group">
                            <label>Nombre de la empresa:</label>
                            <input type="text" id="companyName" value="AMAZONIA CONCRETE">
                        </div>
                        <div class="form-group">
                            <label>Eslogan:</label>
                            <input type="text" id="tagline" value="Naturaleza y Modernidad en Perfecta Armon√≠a">
                        </div>
                        <div class="form-group">
                            <label>Logo de la empresa:</label>
                            <input type="url" id="companyLogoUrl" placeholder="https://raw.githubusercontent.com/...">
                            <small style="display: block; margin-top: 0.5rem; color: var(--text-muted);">Usa un enlace directo de <code>raw.githubusercontent.com</code> u otro hosting p√∫blico.</small>
                            <div class="logo-preview" id="companyLogoPreviewWrapper">
                                <img id="companyLogoPreview" alt="Vista previa del logo" src="">
                                <span class="image-placeholder" id="companyLogoPlaceholder">Sin logo seleccionado</span>
                            </div>
                            <button type="button" class="btn btn-secondary" id="removeLogoButton">Quitar logo</button>
                        </div>
                        <div class="form-group">
                            <label>Mensaje del footer:</label>
                            <textarea id="footerMessage">Creando espacios √∫nicos con concreto sostenible</textarea>
                        </div>
                    </div>

                    <!-- Apariencia del cat√°logo: mantener esta secci√≥n inmediatamente despu√©s de la informaci√≥n de la empresa -->
                    <div class="config-section">
                        <h3 style="margin-bottom: 1rem">Apariencia del cat√°logo</h3>
                        <p class="section-description">Personaliza los colores principales de tu cat√°logo digital. Los cambios se reflejar√°n en la vista previa y se guardan en este navegador.</p>
                        <div class="appearance-grid" role="group" aria-label="Selector de colores del cat√°logo">
                            <div class="appearance-item">
                                <label for="appearanceBackground">Color de fondo</label>
                                <div class="color-input-wrapper">
                                    <input type="color" id="appearanceBackground" name="appearanceBackground" value="#f5f7f3">
                                    <span class="color-value" data-color-for="appearanceBackground">#f5f7f3</span>
                                </div>
                            </div>
                            <div class="appearance-item">
                                <label for="appearanceHeader">Color de encabezado y pie</label>
                                <div class="color-input-wrapper">
                                    <input type="color" id="appearanceHeader" name="appearanceHeader" value="#1f3b2e">
                                    <span class="color-value" data-color-for="appearanceHeader">#1f3b2e</span>
                                </div>
                            </div>
                            <div class="appearance-item">
                                <label for="appearancePrimary">Color de botones principales</label>
                                <div class="color-input-wrapper">
                                    <input type="color" id="appearancePrimary" name="appearancePrimary" value="#1f3b2e">
                                    <span class="color-value" data-color-for="appearancePrimary">#1f3b2e</span>
                                </div>
                            </div>
                            <div class="appearance-item">
                                <label for="appearanceAccent">Color de elementos destacados</label>
                                <div class="color-input-wrapper">
                                    <input type="color" id="appearanceAccent" name="appearanceAccent" value="#b7d4c5">
                                    <span class="color-value" data-color-for="appearanceAccent">#b7d4c5</span>
                                </div>
                            </div>
                            <div class="appearance-item">
                                <label for="appearanceText">Color de t√≠tulos y textos</label>
                                <div class="color-input-wrapper">
                                    <input type="color" id="appearanceText" name="appearanceText" value="#10241b">
                                    <span class="color-value" data-color-for="appearanceText">#10241b</span>
                                </div>
                            </div>
                            <div class="appearance-item">
                                <label for="appearanceMode">Modo preferido</label>
                                <select id="appearanceMode" name="appearanceMode">
                                    <option value="light">Claro</option>
                                    <option value="dark">Oscuro</option>
                                </select>
                                <div class="field-hint field-hint--muted">El usuario podr√° alternar, pero aqu√≠ defines el modo inicial.</div>
                            </div>
                            <div class="appearance-item">
                                <label for="appearanceBackgroundPattern">Textura o degradado para el fondo general</label>
                                <select id="appearanceBackgroundPattern" name="appearanceBackgroundPattern"></select>
                                <div class="field-hint field-hint--muted">Ideal para simular concreto suave o gradientes ligeros.</div>
                            </div>
                            <div class="appearance-item">
                                <label for="appearanceSectionPattern">Textura para secciones y h√©roe</label>
                                <select id="appearanceSectionPattern" name="appearanceSectionPattern"></select>
                                <div class="field-hint field-hint--muted">Se combina con la imagen de cabecera y los overlays.</div>
                            </div>
                            <div class="appearance-item">
                                <label for="appearanceOverlayStrength">Intensidad del overlay</label>
                                <input type="range" id="appearanceOverlayStrength" name="appearanceOverlayStrength" min="0" max="0.85" step="0.01" value="0.48">
                                <div class="field-hint field-hint--muted">Ajusta la opacidad de los degradados sobre im√°genes y patrones.</div>
                            </div>
                            <div class="appearance-item">
                                <label for="appearanceBackgroundImage">Imagen de fondo del cat√°logo (opcional)</label>
                                <div class="input-meta">
                                    <input type="url" id="appearanceBackgroundImage" name="appearanceBackgroundImage" placeholder="https://ejemplo.com/fondo.jpg">
                                    <div class="field-hint field-hint--muted">Si lo dejas vac√≠o se mostrar√° el degradado configurado con los colores.</div>
                                </div>
                                <div class="appearance-preview" data-appearance-preview="appearanceBackgroundImage" aria-live="polite">
                                    <img class="appearance-preview__thumb" data-appearance-thumb="appearanceBackgroundImage" alt="Vista previa de la imagen de fondo del cat√°logo" loading="lazy">
                                    <p class="appearance-preview__message" data-appearance-message="appearanceBackgroundImage" role="status">Agrega una URL de imagen para ver la miniatura.</p>
                                </div>
                            </div>
                            <div class="appearance-item">
                                <label for="appearanceHeaderImage">Imagen del encabezado (opcional)</label>
                                <div class="input-meta">
                                    <input type="url" id="appearanceHeaderImage" name="appearanceHeaderImage" placeholder="https://ejemplo.com/encabezado.jpg">
                                    <div class="field-hint field-hint--muted">Se mezcla con los colores del encabezado para mantener la legibilidad.</div>
                                </div>
                                <div class="appearance-preview" data-appearance-preview="appearanceHeaderImage" aria-live="polite">
                                    <img class="appearance-preview__thumb" data-appearance-thumb="appearanceHeaderImage" alt="Vista previa de la imagen del encabezado" loading="lazy">
                                    <p class="appearance-preview__message" data-appearance-message="appearanceHeaderImage" role="status">Agrega una URL de imagen para ver la miniatura.</p>
                                </div>
                            </div>
                            <div class="appearance-item">
                                <label for="appearanceFooterImage">Imagen del pie de p√°gina (opcional)</label>
                                <div class="input-meta">
                                    <input type="url" id="appearanceFooterImage" name="appearanceFooterImage" placeholder="https://ejemplo.com/footer.jpg">
                                    <div class="field-hint field-hint--muted">√ösalo para personalizar el fondo del cierre del cat√°logo.</div>
                                </div>
                                <div class="appearance-preview" data-appearance-preview="appearanceFooterImage" aria-live="polite">
                                    <img class="appearance-preview__thumb" data-appearance-thumb="appearanceFooterImage" alt="Vista previa de la imagen del pie de p√°gina" loading="lazy">
                                    <p class="appearance-preview__message" data-appearance-message="appearanceFooterImage" role="status">Agrega una URL de imagen para ver la miniatura.</p>
                                </div>
                            </div>
                        </div>
                        <button type="button" class="btn btn-secondary" id="resetAppearanceButton">Restaurar colores de f√°brica</button>
                    </div>

                    <div class="config-section">
                        <h3 style="margin-bottom: 0.75rem">Rangos de precios</h3>
                        <p class="section-description">Define los rangos que aparecer√°n en el filtro de precios del cat√°logo. Evita solapamientos para que cada producto solo coincida con un rango.</p>
                        <div id="priceRangesList" class="price-range-list" aria-label="Rangos de precios configurados"></div>
                        <div class="price-range-actions">
                            <button type="button" class="btn btn-secondary" id="addPriceRangeButton">‚ûï A√±adir rango</button>
                            <p class="field-hint" id="priceRangeHint">Usa n√∫meros enteros y deja vac√≠o el campo "Hasta" para rangos abiertos.</p>
                        </div>
                        <p class="field-hint field-hint--error" id="priceRangeError" aria-live="polite" style="display: none;"></p>
                    </div>

                <button class="btn btn-primary" id="saveConfigButton">Guardar Configuraci√≥n</button>
            </div>

            <!-- News Section -->
            <div id="newsSection" class="section" role="region" aria-labelledby="newsSectionTitle" aria-hidden="true" hidden>
                <h2 class="section-title" id="newsSectionTitle">üì∞ Inicio y panel de novedades</h2>
                <p class="section-description">Define el contenido que aparecer√° en la p√°gina de inicio. Esta secci√≥n no muestra productos, solo anuncios y llamadas a la acci√≥n hacia el cat√°logo.</p>

                <div class="config-section">
                    <h3 style="margin-bottom: 1rem">Apariencia unificada</h3>
                    <div class="form-group">
                        <label class="checkbox">
                            <input type="checkbox" id="unifiedHomeVisuals">
                            <span>Aplicar la visualizaci√≥n de inicio y novedades en todo el sitio</span>
                        </label>
                        <p class="field-hint">Usaremos los mismos colores, texturas y formas para cat√°logo, pol√≠ticas y nosotros. Desmarca la casilla si prefieres mantener sus estilos actuales.</p>
                    </div>
                </div>

                <div class="config-section">
                    <h3 style="margin-bottom: 1rem">Encabezado del inicio</h3>
                    <div class="two-columns">
                        <div class="form-group">
                            <label for="newsHeroEyebrow">Etiqueta superior</label>
                            <input type="text" id="newsHeroEyebrow" placeholder="Concreto sostenible">
                        </div>
                        <div class="form-group">
                            <label for="newsHeroTitle">T√≠tulo principal</label>
                            <input type="text" id="newsHeroTitle" placeholder="Dise√±os hechos para durar y conectar con la naturaleza">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="newsHeroDescription">Descripci√≥n corta</label>
                        <textarea id="newsHeroDescription" rows="3" placeholder="Explora piezas inspiradas en la selva amaz√≥nica‚Ä¶"></textarea>
                    </div>
                    <div class="two-columns">
                        <div class="form-group">
                            <label for="newsHeroStamp">Sello o nombre de la colecci√≥n</label>
                            <input type="text" id="newsHeroStamp" placeholder="Colecci√≥n 2024">
                            <p class="field-hint">Se muestra en la esquina del h√©roe para actualizarlo cada a√±o.</p>
                        </div>
                        <div class="form-group">
                            <label class="checkbox">
                                <input type="checkbox" id="newsHeroBrandPanelEnabled">
                                <span>Mostrar recuadro transl√∫cido para logo y eslogan</span>
                            </label>
                            <p class="field-hint">Activa un fondo suave que agrupa el logo y el eslogan para mejorar su legibilidad.</p>
                        </div>
                    </div>
                    <div class="two-columns">
                        <div class="form-group">
                            <label for="newsHeroBrandPanelColor">Color del recuadro</label>
                            <input type="color" id="newsHeroBrandPanelColor" value="#0c120f">
                        </div>
                        <div class="form-group">
                            <label for="newsHeroBrandPanelOpacity">Opacidad del recuadro</label>
                            <input type="range" id="newsHeroBrandPanelOpacity" min="0" max="0.85" step="0.01" value="0.45">
                            <p class="field-hint">0 es completamente transparente y 0.85 es m√°s s√≥lido.</p>
                        </div>
                    </div>
                    <div class="two-columns">
                        <div class="form-group">
                            <label for="newsPrimaryCta">Texto del bot√≥n principal</label>
                            <input type="text" id="newsPrimaryCta" placeholder="Ver cat√°logo">
                        </div>
                        <div class="form-group">
                            <label for="newsSecondaryCta">Texto del bot√≥n secundario</label>
                            <input type="text" id="newsSecondaryCta" placeholder="Ir a novedades">
                        </div>
                    </div>
                    <div class="two-columns">
                        <div class="form-group">
                            <label for="newsPrimaryCtaUrl">Enlace del bot√≥n principal (opcional)</label>
                            <input type="url" id="newsPrimaryCtaUrl" placeholder="https://tusitio.com/catalogo">
                            <p class="field-hint">Debe iniciar con http:// o https://. Si se deja vac√≠o, se usar√° catalogo.html.</p>
                        </div>
                        <div class="form-group">
                            <label for="newsSecondaryCtaUrl">Enlace del bot√≥n secundario (opcional)</label>
                            <input type="url" id="newsSecondaryCtaUrl" placeholder="https://tusitio.com/novedades">
                            <p class="field-hint">Debe iniciar con http:// o https://. Si se deja vac√≠o, se usar√° #novedades.</p>
                        </div>
                    </div>
                </div>

                <div class="config-section">
                    <h3 style="margin-bottom: 1rem">Cabecera de la secci√≥n de novedades</h3>
                    <div class="two-columns">
                        <div class="form-group">
                            <label for="newsSectionEyebrow">Etiqueta superior</label>
                            <input type="text" id="newsSectionEyebrow" placeholder="Actualizaciones">
                        </div>
                        <div class="form-group">
                            <label for="newsSectionTitle">T√≠tulo de la secci√≥n</label>
                            <input type="text" id="newsSectionTitle" placeholder="Novedades y momentos especiales">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="newsSectionDescription">Descripci√≥n de la secci√≥n</label>
                        <textarea id="newsSectionDescription" rows="3" placeholder="Panel de lanzamientos y anuncios destacados. Los productos solo se muestran en la p√°gina de cat√°logo."></textarea>
                    </div>
                </div>

                <div class="config-section">
                    <div class="section-header" style="display: flex; justify-content: space-between; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <div>
                            <h3 style="margin: 0">Bloques de novedades</h3>
                            <p class="section-description" style="margin: 0">Edita los anuncios que se mostrar√°n en la cuadr√≠cula de la p√°gina de inicio.</p>
                        </div>
                        <button type="button" class="btn btn-secondary" id="addNewsItemButton">‚ûï A√±adir bloque</button>
                    </div>
                    <div id="newsItemsContainer" class="news-items" aria-live="polite"></div>
                </div>

                <button class="btn btn-primary" id="saveNewsButton" type="button">Guardar novedades</button>
            </div>

            <!-- Shipping Policy Section -->
            <div id="aboutConfigSection" class="section" role="region" aria-labelledby="aboutConfigSectionTitle" aria-hidden="true" hidden>
                <h2 class="section-title" id="aboutConfigSectionTitle">üë• Secci√≥n Nosotros</h2>
                    <p class="section-description">Configura la informaci√≥n de misi√≥n, visi√≥n y valores que aparecer√° en la p√°gina independiente de "Nosotros". Esta informaci√≥n ya no ocupa espacio dentro del cat√°logo principal.</p>

                    <div class="config-section">
                        <h3 style="margin-bottom: 1rem">Historia y prop√≥sito</h3>
                        <div class="form-group">
                            <label for="aboutHeroTitle">T√≠tulo principal de la p√°gina:</label>
                            <input type="text" id="aboutHeroTitle" placeholder="Nosotros en AMAZONIA CONCRETE">
                            <small style="display: block; margin-top: 0.5rem; color: var(--text-muted);">Se mostrar√° en el encabezado principal de la p√°gina de "Nosotros".</small>
                        </div>
                        <div class="form-group">
                            <label for="aboutHistory">Historia de la empresa:</label>
                            <textarea id="aboutHistory" rows="4" placeholder="Cuenta c√≥mo inici√≥ la compa√±√≠a, los hitos m√°s importantes o el prop√≥sito que los gu√≠a."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="aboutMission">Misi√≥n:</label>
                            <textarea id="aboutMission" rows="3" placeholder="Describe la misi√≥n de la empresa"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="aboutVision">Visi√≥n:</label>
                            <textarea id="aboutVision" rows="3" placeholder="Comparte la visi√≥n de la empresa"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="aboutValues">Valores (uno por l√≠nea):</label>
                            <textarea id="aboutValues" rows="4" placeholder="Innovaci√≥n&#10;Sostenibilidad&#10;Calidad"></textarea>
                            <small style="display: block; margin-top: 0.5rem; color: var(--text-muted);">Cada valor se separa con un salto de l√≠nea y se mostrar√° como una lista en la p√°gina de "Nosotros".</small>
                        </div>
                    </div>
                </div>

                <div id="policiesSection" class="section" role="region" aria-labelledby="policiesSectionTitle" aria-hidden="true" hidden>
                    <h2 class="section-title" id="policiesSectionTitle">üìÑ Pol√≠ticas corporativas</h2>
                    <p class="section-description">Gestiona la informaci√≥n que alimenta las pol√≠ticas de env√≠os, reembolsos, privacidad y lineamientos extra desde un solo lugar. Los cambios se guardan con el bot√≥n "Guardar pol√≠ticas".</p>
                    <p class="section-hint" id="policyGenerationMeta" role="status" aria-live="polite"></p>

                    <div class="config-section">
                        <h3 style="margin-bottom: 0.75rem">P√°gina de pol√≠tica de env√≠os</h3>
                        <p class="section-description">Edita el contenido que se mostrar√° en la p√°gina dedicada a env√≠os, incluyendo encabezado, bloques descriptivos y notas finales.</p>

                        <div class="two-columns">
                            <div class="form-group">
                                <label for="shippingPolicyHeroTitle">T√≠tulo principal</label>
                                <input type="text" id="shippingPolicyHeroTitle" placeholder="Pol√≠tica de env√≠os">
                            </div>
                            <div class="form-group">
                                <label for="shippingPolicyHeroDescription">Descripci√≥n corta</label>
                                <textarea id="shippingPolicyHeroDescription" rows="2" placeholder="Coordinamos entregas seguras y puntuales para cada pedido."></textarea>
                            </div>
                        </div>

                        <div class="section-header" style="display: flex; justify-content: space-between; align-items: center; gap: 1rem; margin: 1.5rem 0 1rem;">
                            <div>
                                <h4 style="margin: 0">Bloques de informaci√≥n</h4>
                                <p class="section-description" style="margin: 0">Agrega, reordena o elimina las secciones que detallan cobertura, empaque, costos u otros temas log√≠sticos.</p>
                            </div>
                            <button type="button" class="btn btn-secondary" id="addShippingSectionButton">‚ûï A√±adir secci√≥n</button>
                        </div>

                        <div id="shippingPolicySectionsContainer" class="shipping-policy-sections" aria-live="polite"></div>

                        <div class="config-section" style="margin-top: 1.5rem;">
                            <h4 style="margin: 0 0 1rem 0">Cierre de la p√°gina</h4>
                            <div class="two-columns">
                                <div class="form-group">
                                    <label for="shippingPolicyClosingTitle">T√≠tulo de cierre</label>
                                    <input type="text" id="shippingPolicyClosingTitle" placeholder="¬øListo para coordinar tu env√≠o?">
                                </div>
                                <div class="form-group">
                                    <label for="shippingPolicyClosingDescription">Descripci√≥n final</label>
                                    <textarea id="shippingPolicyClosingDescription" rows="2" placeholder="Escr√≠benos y recibe asesor√≠a personalizada para definir la mejor opci√≥n de entrega."></textarea>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="shippingPolicyClosingNote">Nota complementaria</label>
                                <input type="text" id="shippingPolicyClosingNote" placeholder="Atendemos solicitudes de lunes a viernes de 8:00 a.m. a 6:00 p.m.">
                            </div>
                        </div>
                    </div>

                    <div class="policies-stack">
                        <article class="policy-panel" data-policy-panel="shipping">
                            <div class="policy-panel__form">
                                <div class="policy-panel__header">
                                    <div>
                                        <p class="policy-eyebrow">Log√≠stica</p>
                                        <h3>Pol√≠tica de env√≠os</h3>
                                        <p class="policy-panel__description">Describe tiempos, cobertura y costos para tus entregas.</p>
                                    </div>
                                    <label class="policy-toggle" for="policy-shipping-active">
                                        <input type="checkbox" id="policy-shipping-active" data-policy-id="shipping" data-policy-field="active">
                                        <span>Mostrar en el cat√°logo</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label for="policy-shipping-summary">Resumen</label>
                                    <textarea id="policy-shipping-summary" rows="3" data-policy-id="shipping" data-policy-field="summary" placeholder="Describe los plazos de env√≠o y las zonas cubiertas."></textarea>
                                </div>
                                <div class="policy-form-grid">
                                    <div class="form-group">
                                        <label for="policy-shipping-coverage">Cobertura</label>
                                        <textarea id="policy-shipping-coverage" rows="2" data-policy-id="shipping" data-policy-field="coverage" placeholder="Todo el territorio nacional"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="policy-shipping-processing">Tiempos de procesamiento</label>
                                        <textarea id="policy-shipping-processing" rows="2" data-policy-id="shipping" data-policy-field="processing" placeholder="Ej. Confirmaci√≥n y despacho en 2 - 3 d√≠as h√°biles"></textarea>
                                    </div>
                                </div>
                                <div class="policy-form-grid">
                                    <div class="form-group">
                                        <label for="policy-shipping-packaging">Empaque</label>
                                        <textarea id="policy-shipping-packaging" rows="2" data-policy-id="shipping" data-policy-field="packaging" placeholder="Materiales, refuerzos y protecci√≥n adicional"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="policy-shipping-cost">Costos de env√≠o</label>
                                        <textarea id="policy-shipping-cost" rows="2" data-policy-id="shipping" data-policy-field="shippingCost" placeholder="Tarifas base, m√≠nimos o pol√≠ticas de env√≠o gratis"></textarea>
                                    </div>
                                </div>
                                <div class="policy-form-grid">
                                    <div class="form-group">
                                        <label for="policy-shipping-method">M√©todo de env√≠o</label>
                                        <textarea id="policy-shipping-method" rows="2" data-policy-id="shipping" data-policy-field="shippingMethod" placeholder="Transporte especializado, mensajer√≠a certificada, etc."></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="policy-shipping-deliveries">Entregas</label>
                                        <textarea id="policy-shipping-deliveries" rows="2" data-policy-id="shipping" data-policy-field="deliveries" placeholder="Programaciones, ventanas horarias o retiros en planta"></textarea>
                                    </div>
                                </div>
                                <div class="policy-form-grid">
                                    <div class="form-group">
                                        <label for="policy-shipping-damages">Da√±os durante el env√≠o</label>
                                        <textarea id="policy-shipping-damages" rows="2" data-policy-id="shipping" data-policy-field="damages" placeholder="Pasos para reportar novedades y evidencias requeridas"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="policy-shipping-disclaimers">No nos hacemos responsables por</label>
                                        <textarea id="policy-shipping-disclaimers" rows="2" data-policy-id="shipping" data-policy-field="disclaimers" placeholder="Restricciones, demoras de terceros o condiciones fuera de control"></textarea>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="policy-shipping-confirmation">Confirmaci√≥n del pedido</label>
                                    <textarea id="policy-shipping-confirmation" rows="2" data-policy-id="shipping" data-policy-field="confirmation" placeholder="C√≥mo y cu√°ndo se env√≠a la gu√≠a o confirmaci√≥n de despacho"></textarea>
                                </div>
                            </div>
                            <div class="policy-preview" data-policy-preview-wrapper="shipping">
                                <h4>Vista previa</h4>
                                <div class="policy-preview__text" data-policy-preview="shipping"></div>
                                <ul class="policy-preview__list" data-policy-points="shipping"></ul>
                                <p class="policy-preview__meta">
                                    <span data-policy-meta="shipping"></span>
                                </p>
                            </div>
                        </article>

                        <article class="policy-panel" data-policy-panel="refund">
                            <div class="policy-panel__form">
                                <div class="policy-panel__header">
                                    <div>
                                        <p class="policy-eyebrow">Servicio al cliente</p>
                                        <h3>Pol√≠tica de reembolsos</h3>
                                        <p class="policy-panel__description">Comunica los tiempos, responsables y requisitos para solicitar devoluciones.</p>
                                    </div>
                                    <label class="policy-toggle" for="policy-refund-active">
                                        <input type="checkbox" id="policy-refund-active" data-policy-id="refund" data-policy-field="active">
                                        <span>Mostrar en el cat√°logo</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label for="policy-refund-summary">Resumen</label>
                                    <textarea id="policy-refund-summary" rows="3" data-policy-id="refund" data-policy-field="summary" placeholder="Explica qui√©n aplica para reembolso y los plazos."></textarea>
                                </div>
                                <div class="policy-form-grid">
                                    <div class="form-group">
                                        <label for="policy-refund-window">Ventana de solicitud</label>
                                        <input type="text" id="policy-refund-window" data-policy-id="refund" data-policy-field="window" placeholder="15 d√≠as desde la entrega">
                                    </div>
                                    <div class="form-group">
                                        <label for="policy-refund-method">M√©todo de reembolso</label>
                                        <input type="text" id="policy-refund-method" data-policy-id="refund" data-policy-field="method" placeholder="Transferencia bancaria / Nota cr√©dito">
                                    </div>
                                    <div class="form-group">
                                        <label for="policy-refund-contact">Contacto</label>
                                        <input type="text" id="policy-refund-contact" data-policy-id="refund" data-policy-field="contact" placeholder="servicio@amazonia.com">
                                    </div>
                                    <div class="form-group">
                                        <label for="policy-refund-requirements">Requisitos</label>
                                        <input type="text" id="policy-refund-requirements" data-policy-id="refund" data-policy-field="requirements" placeholder="Factura, evidencia fotogr√°fica">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="policy-refund-details">Detalles</label>
                                    <textarea id="policy-refund-details" rows="3" data-policy-id="refund" data-policy-field="details" placeholder="Condiciones especiales, productos sin reembolso, pasos del proceso."></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="policy-refund-points">Puntos destacados (uno por l√≠nea)</label>
                                    <textarea id="policy-refund-points" rows="4" data-policy-id="refund" data-policy-field="points" placeholder="Evaluaci√≥n en 48h&#10;Notificaci√≥n autom√°tica&#10;Cobertura nacional"></textarea>
                                </div>
                            </div>
                            <div class="policy-preview" data-policy-preview-wrapper="refund">
                                <h4>Vista previa</h4>
                                <div class="policy-preview__text" data-policy-preview="refund"></div>
                                <ul class="policy-preview__list" data-policy-points="refund"></ul>
                                <p class="policy-preview__meta">
                                    <span data-policy-meta="refund"></span>
                                </p>
                            </div>
                        </article>

                        <article class="policy-panel" data-policy-panel="privacy">
                            <div class="policy-panel__form">
                                <div class="policy-panel__header">
                                    <div>
                                        <p class="policy-eyebrow">Datos y seguridad</p>
                                        <h3>Pol√≠tica de privacidad</h3>
                                        <p class="policy-panel__description">Aclara el uso de datos, tiempos de almacenamiento y responsables de la informaci√≥n.</p>
                                    </div>
                                    <label class="policy-toggle" for="policy-privacy-active">
                                        <input type="checkbox" id="policy-privacy-active" data-policy-id="privacy" data-policy-field="active">
                                        <span>Mostrar en el cat√°logo</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label for="policy-privacy-summary">Resumen</label>
                                    <textarea id="policy-privacy-summary" rows="3" data-policy-id="privacy" data-policy-field="summary" placeholder="Describe c√≥mo recolectan, utilizan y protegen la informaci√≥n."></textarea>
                                </div>
                                <div class="policy-form-grid">
                                    <div class="form-group">
                                        <label for="policy-privacy-usage">Uso de datos</label>
                                        <input type="text" id="policy-privacy-usage" data-policy-id="privacy" data-policy-field="usage" placeholder="Procesar pedidos, anal√≠tica interna">
                                    </div>
                                    <div class="form-group">
                                        <label for="policy-privacy-storage">Tiempo de almacenamiento</label>
                                        <input type="text" id="policy-privacy-storage" data-policy-id="privacy" data-policy-field="storage" placeholder="5 a√±os o seg√∫n la ley">
                                    </div>
                                    <div class="form-group">
                                        <label for="policy-privacy-shared">Terceros involucrados</label>
                                        <input type="text" id="policy-privacy-shared" data-policy-id="privacy" data-policy-field="shared" placeholder="Pasarelas de pago, transporte">
                                    </div>
                                    <div class="form-group">
                                        <label for="policy-privacy-contact">Oficial de datos</label>
                                        <input type="text" id="policy-privacy-contact" data-policy-id="privacy" data-policy-field="contact" placeholder="datos@amazonia.com">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="policy-privacy-details">Detalles</label>
                                    <textarea id="policy-privacy-details" rows="3" data-policy-id="privacy" data-policy-field="details" placeholder="Derechos ARCO, mecanismos de revocatoria, bases legales."></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="policy-privacy-points">Puntos destacados (uno por l√≠nea)</label>
                                    <textarea id="policy-privacy-points" rows="4" data-policy-id="privacy" data-policy-field="points" placeholder="Infraestructura certificada&#10;Cifrado punto a punto&#10;Auditor√≠as anuales"></textarea>
                                </div>
                            </div>
                            <div class="policy-preview" data-policy-preview-wrapper="privacy">
                                <h4>Vista previa</h4>
                                <div class="policy-preview__text" data-policy-preview="privacy"></div>
                                <ul class="policy-preview__list" data-policy-points="privacy"></ul>
                                <p class="policy-preview__meta">
                                    <span data-policy-meta="privacy"></span>
                                </p>
                            </div>
                        </article>

                        <article class="policy-panel" data-policy-panel="extra">
                            <div class="policy-panel__form">
                                <div class="policy-panel__header">
                                    <div>
                                        <p class="policy-eyebrow">Complementos</p>
                                        <h3>Pol√≠tica extra</h3>
                                        <p class="policy-panel__description">Documenta pol√≠ticas ambientales, garant√≠as extendidas u otros procesos internos.</p>
                                    </div>
                                    <label class="policy-toggle" for="policy-extra-active">
                                        <input type="checkbox" id="policy-extra-active" data-policy-id="extra" data-policy-field="active">
                                        <span>Mostrar en el cat√°logo</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label for="policy-extra-title">Nombre de la pol√≠tica</label>
                                    <input type="text" id="policy-extra-title" data-policy-id="extra" data-policy-field="customTitle" placeholder="Pol√≠tica ambiental, garant√≠a extendida, etc.">
                                </div>
                                <div class="form-group">
                                    <label for="policy-extra-summary">Resumen</label>
                                    <textarea id="policy-extra-summary" rows="3" data-policy-id="extra" data-policy-field="summary" placeholder="Describe el objetivo de la pol√≠tica seleccionada."></textarea>
                                </div>
                                <div class="policy-form-grid">
                                    <div class="form-group">
                                        <label for="policy-extra-owner">Responsable</label>
                                        <input type="text" id="policy-extra-owner" data-policy-id="extra" data-policy-field="owner" placeholder="Gerencia de calidad">
                                    </div>
                                    <div class="form-group">
                                        <label for="policy-extra-scope">√Åmbito</label>
                                        <input type="text" id="policy-extra-scope" data-policy-id="extra" data-policy-field="scope" placeholder="Plantas productivas, oficinas, etc.">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="policy-extra-details">Detalles</label>
                                    <textarea id="policy-extra-details" rows="3" data-policy-id="extra" data-policy-field="details" placeholder="Procedimientos, m√©tricas, requisitos regulatorios."></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="policy-extra-points">Puntos destacados (uno por l√≠nea)</label>
                                    <textarea id="policy-extra-points" rows="4" data-policy-id="extra" data-policy-field="points" placeholder="Capacitaciones trimestrales&#10;Reportes autom√°ticos&#10;Planes de mejora continua"></textarea>
                                </div>
                            </div>
                            <div class="policy-preview" data-policy-preview-wrapper="extra">
                                <h4>Vista previa</h4>
                                <div class="policy-preview__text" data-policy-preview="extra"></div>
                                <ul class="policy-preview__list" data-policy-points="extra"></ul>
                                <p class="policy-preview__meta">
                                    <span data-policy-meta="extra"></span>
                                </p>
                            </div>
                        </article>
                    </div>

                    <button class="btn btn-primary" id="savePoliciesButton">Guardar pol√≠ticas</button>
                </div>

                <div id="productsSection" class="section" role="region" aria-labelledby="productsSectionTitle" aria-hidden="true" hidden>
                    <h2 class="section-title" id="productsSectionTitle">üì¶ Gesti√≥n de productos</h2>
                    <p class="section-description">
                        Organiza tus categor√≠as, busca productos espec√≠ficos y usa el bot√≥n de ‚ÄúA√±adir producto‚Äù para
                        crear o actualizar la informaci√≥n de tu cat√°logo.
                    </p>

                    <div class="category-header" role="toolbar" aria-label="Gesti√≥n de categor√≠as">
                        <div class="category-tabs" id="categoryTabs" role="tablist" aria-label="Categor√≠as de productos">
                            <!-- Las pesta√±as de categor√≠as se inyectan desde admin.js -->
                        </div>
                        <div class="category-controls">
                            <button type="button" class="btn btn-secondary" id="manageCategoriesButton">üóÇÔ∏è Gestionar categor√≠as</button>
                            <button type="button" class="btn btn-primary" id="openProductModalButton">‚ûï A√±adir producto</button>
                        </div>
                    </div>

                    <div class="product-search-bar">
                        <label for="productSearch">Buscar productos</label>
                        <input type="search" id="productSearch" placeholder="Buscar por nombre, descripci√≥n o etiqueta" autocomplete="off">
                        <p class="product-search-summary" id="productSearchSummary" aria-live="polite">
                            Usa la barra de b√∫squeda o selecciona una categor√≠a para comenzar.
                        </p>
                    </div>

                    <div id="productsList" class="product-list" role="list" aria-live="polite"></div>
                </div>

                <section id="previewSection" class="preview-section">
                    <h2 class="section-title">üëÄ Vista previa del cat√°logo</h2>
                    <div class="meta-preview" id="metaPreview" aria-live="polite">
                        <div class="meta-preview__header">
                            <h3 class="meta-preview__title">üß≠ Metadatos listos para compartir</h3>
                            <p class="meta-preview__hint">
                                El t√≠tulo y la descripci√≥n usan el nombre y el eslogan. La frase destacada toma la primera categor√≠a con productos; si no hay, armamos un CTA con WhatsApp, tel√©fono o correo. El logo, cuando existe, se usar√° como √≠cono.
                            </p>
                        </div>
                        <dl class="meta-preview__list">
                            <div class="meta-preview__item">
                                <dt>T√≠tulo</dt>
                                <dd id="metaTitlePreview">Cat√°logo digital (se arma con el nombre de la empresa)</dd>
                            </div>
                            <div class="meta-preview__item">
                                <dt>Descripci√≥n</dt>
                                <dd id="metaDescriptionPreview">La descripci√≥n combina el nombre, el eslogan y el CTA de contacto si no hay categor√≠as con productos.</dd>
                            </div>
                            <div class="meta-preview__item">
                                <dt>Frase destacada</dt>
                                <dd id="metaHighlightPreview">Mostramos la primera categor√≠a con productos; si no existe, usamos los datos de contacto disponibles.</dd>
                            </div>
                            <div class="meta-preview__item">
                                <dt>√çcono</dt>
                                <dd id="metaFaviconPreview">Sin logo cargado: se mantendr√° el √≠cono por defecto del navegador.</dd>
                            </div>
                        </dl>
                    </div>
                    <iframe id="catalogPreview" title="Vista previa del cat√°logo"></iframe>
                </section>
            </div>
        </div>

        <!-- Export Section -->
        <div class="export-section">
            <h2 style="margin-bottom: 1rem">¬øListo para actualizar tu cat√°logo?</h2>
            <p style="margin-bottom: 1.5rem">Genera tu cat√°logo actualizado con todos los cambios realizados</p>
            <button class="big-button" data-action="generate-catalog">
                <span>üì•</span> Generar Cat√°logo Actualizado
            </button>
            <div id="statusMessage" class="status-message" style="margin-top: 1rem"></div>
            <div id="exportStatusPanel" class="process-panel" role="region" aria-live="polite" aria-label="Estado de generaci√≥n y exportaci√≥n">
                <div class="process-panel__header">
                    <span class="process-panel__title">Historial de generaci√≥n y exportaci√≥n</span>
                    <button type="button" class="process-panel__clear" id="clearProcessStatusButton">Limpiar historial</button>
                </div>
                <p class="process-panel__empty" id="exportStatusEmpty">A√∫n no has ejecutado exportaciones ni generado el cat√°logo.</p>
                <ul class="process-panel__list" id="exportStatusList" role="log"></ul>
            </div>
        </div>
    </div>

    <!-- Product Modal -->
    <div class="modal" id="productModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-hidden="true" tabindex="-1">
        <div class="modal-content modal-content--product">
            <div class="modal-header">
                <h2 id="modalTitle">A√±adir Producto</h2>
                <button class="close-modal" type="button" id="closeProductModalButton" aria-label="Cerrar formulario de producto">‚úï</button>
            </div>

            <div class="product-modal-body">
                <form id="productForm">
                    <input type="hidden" id="productId">

                    <div class="form-group">
                        <label for="productCategory">Categor√≠a:</label>
                        <select id="productCategory"></select>
                    </div>

                    <div class="form-group">
                        <label for="productName">Nombre del producto:</label>
                        <input type="text" id="productName" required>
                    </div>

                    <div class="form-group">
                        <label for="productShortDesc">Descripci√≥n corta:</label>
                        <div class="input-meta">
                            <textarea id="productShortDesc" required aria-describedby="shortDescHint shortDescCounter"></textarea>
                            <div class="field-hint" id="shortDescHint">
                                Resume en una o dos frases el valor principal del producto.
                            </div>
                            <div class="char-counter" id="shortDescCounter" aria-live="polite">0 / 140 caracteres</div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="productLongDesc">Descripci√≥n detallada:</label>
                        <div class="input-meta">
                            <textarea id="productLongDesc" rows="4" aria-describedby="longDescHint longDescCounter"></textarea>
                            <div class="field-hint" id="longDescHint">
                                Utiliza vi√±etas o frases cortas para resaltar usos, materiales y cuidados.
                            </div>
                            <div class="char-counter" id="longDescCounter" aria-live="polite">0 / 400 caracteres</div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="productPrice">Precio:</label>
                        <div class="input-meta">
                            <input type="text" id="productPrice" placeholder="$45.000 o $85.000/m¬≤" aria-describedby="priceHint pricePreview">
                            <div class="field-hint" id="priceHint">
                                Ejemplos v√°lidos: $45.000, 125000 o 85.000/m¬≤.
                            </div>
                            <div class="field-hint field-hint--muted" id="pricePreview" aria-live="polite">Vista previa: ‚Äî</div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="productImageUrl">Im√°genes del producto:</label>
                        <div class="field-hint field-hint--muted">
                            Usa enlaces directos (por ejemplo, de <code>raw.githubusercontent.com</code>) y a√±ade todas las tomas que necesites.
                            El cat√°logo mostrar√° flechas para avanzar entre ellas.
                        </div>
                        <div id="productImagesList" class="image-url-list">
                            <div class="image-url-item">
                                <input type="url" class="product-image-url-input" id="productImageUrl" placeholder="https://raw.githubusercontent.com/...">
                                <button type="button" class="icon-btn remove-image-button" data-action="remove-image" aria-label="Eliminar imagen" title="Eliminar imagen">‚úï</button>
                            </div>
                        </div>
                        <div class="image-thumbnail-panel" aria-live="polite">
                            <div class="image-thumbnail-panel__header">
                                <strong>Miniaturas y portada</strong>
                                <span class="image-thumbnail-panel__hint">Arrastra para reordenar y marca la portada.</span>
                            </div>
                            <div id="productThumbnailsCarousel" class="image-thumbnail-list" role="list" aria-label="Miniaturas de im√°genes"></div>
                            <p class="image-thumbnail-empty" id="productThumbnailsEmpty">A√±ade URLs para ver las miniaturas.</p>
                        </div>
                        <button type="button" id="addProductImageButton" class="btn btn-secondary image-add-button">‚ûï A√±adir imagen</button>
                        <div class="image-preview" id="productImagePreviewWrapper">
                            <img id="productImagePreview" alt="Vista previa del producto" src="" />
                            <span class="image-placeholder" id="productImagePlaceholder">Sin imagen seleccionada</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Caracter√≠sticas (etiquetas):</label>
                        <div id="featuresList" class="feature-list"></div>
                        <button type="button" class="btn btn-secondary" id="addFeatureButton">+ A√±adir caracter√≠stica</button>
                    </div>

                    <div class="form-group">
                        <label for="productSpecs">Especificaciones t√©cnicas:</label>
                        <div class="warning-box">
                            Formato: Nombre: Valor (una por l√≠nea)<br>
                            Ejemplo:<br>
                            Material: Concreto reforzado<br>
                            Peso: 8 kg
                        </div>
                        <div class="input-meta">
                            <textarea id="productSpecs" rows="6" placeholder="Material: Concreto reforzado&#10;Dimensiones: 30cm x 25cm&#10;Peso: 8 kg" aria-describedby="specsHint specsCounter"></textarea>
                            <div class="field-hint" id="specsHint">
                                A√±ade cada especificaci√≥n en el formato <strong>Nombre: Valor</strong> para que se muestre correctamente.
                            </div>
                            <div class="char-counter" id="specsCounter" aria-live="polite">0 / 800 caracteres</div>
                        </div>
                    </div>

                    <div style="display: flex; gap: 1rem; justify-content: flex-end">
                        <button type="button" class="btn btn-secondary" id="cancelProductButton">Cancelar</button>
                        <button type="submit" class="btn btn-primary">Guardar Producto</button>
                    </div>
                </form>

                <aside class="product-preview-panel" aria-live="polite">
                    <div class="product-preview-panel__header">Vista previa en el cat√°logo</div>
                    <div class="product-preview-card" id="productPreviewCard">
                        <div class="product-preview-media">
                            <img id="productPreviewImage" alt="Vista previa del cat√°logo" />
                            <span class="image-placeholder" id="productPreviewPlaceholder">A√±ade una imagen principal</span>
                        </div>
                        <div class="product-preview-body">
                            <div class="product-preview-tags" id="productPreviewTags"></div>
                            <h3 class="product-preview-name" id="productPreviewName">Producto Amazonia</h3>
                            <p class="product-preview-desc" id="productPreviewShortDesc">Informaci√≥n disponible pr√≥ximamente.</p>
                            <p class="product-preview-price" id="productPreviewPrice">Precio a confirmar</p>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </div>

    <!-- Category Modal -->
    <div class="modal" id="categoryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Gestionar Categor√≠as</h2>
                <button class="close-modal" type="button" id="closeCategoryModalButton">‚úï</button>
            </div>

            <div class="info-box">
                <strong>Organiza tus categor√≠as:</strong> Cambia los nombres, iconos o descripciones y elimina las categor√≠as que ya no necesites. Los cambios se reflejar√°n autom√°ticamente en la vista previa y en el cat√°logo exportado.
            </div>

            <div id="categoryManagerList" class="category-manager-list"></div>

            <div class="config-section">
                <h3 style="margin-bottom: 1rem">Crear nueva categor√≠a</h3>
                <div class="two-columns">
                    <div class="form-group">
                        <label for="newCategoryName">Nombre</label>
                        <input type="text" id="newCategoryName" placeholder="Ej: Luminarias">
                    </div>
                    <div class="form-group">
                        <label for="newCategoryIcon">Icono</label>
                        <input type="text" id="newCategoryIcon" placeholder="üí°">
                    </div>
                </div>
                <div class="form-group">
                    <label for="newCategoryDescription">Descripci√≥n</label>
                    <textarea id="newCategoryDescription" rows="3" placeholder="Describe brevemente la categor√≠a"></textarea>
                </div>
                <button type="button" class="btn btn-secondary" id="addCategoryButton">‚ûï A√±adir categor√≠a</button>
            </div>

            <div class="category-manager-actions">
                <button type="button" class="btn btn-secondary" id="cancelCategoryButton">Cerrar</button>
                <button type="button" class="btn btn-primary" id="saveCategoryChangesButton">Guardar cambios</button>
            </div>
        </div>
    </div>

    <!-- Import Data Modal -->
    <input type="file" id="importFile" style="display: none" accept=".json">

    <script src="admin.js" defer></script>
</body>
</html>
